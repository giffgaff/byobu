module.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=43)}([function(t,e,n){"use strict";function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}n.d(e,"a",(function(){return s}))},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["models/User"]},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat.Model},function(t,e){t.exports=flarum.core.compat["components/Notification"]},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["states/DiscussionListState"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["models/Discussion"]},function(t,e){t.exports=flarum.core.compat["components/Badge"]},function(t,e){t.exports=flarum.core.compat["components/EventPost"]},function(t,e){t.exports=flarum.core.compat["utils/extract"]},function(t,e){t.exports=flarum.core.compat["helpers/username"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionPage"]},function(t,e){t.exports=flarum.core.compat["components/UserPage"]},function(t,e){t.exports=flarum.core.compat["utils/classList"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/SettingsPage"]},function(t,e){t.exports=flarum.core.compat["components/Switch"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionHero"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["components/Modal"]},function(t,e){t.exports=flarum.core.compat["utils/Stream"]},function(t,e){t.exports=flarum.core.compat["states/SearchState"]},function(t,e){t.exports=flarum.core.compat["components/Search"]},function(t,e){t.exports=flarum.core.compat["helpers/highlight"]},function(t,e){t.exports=flarum.core.compat["helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["utils/extractText"]},function(t,e){t.exports=flarum.core.compat["components/LoadingIndicator"]},function(t,e){t.exports=flarum.core.compat["utils/UserControls"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionComposer"]},function(t,e){t.exports=flarum.core.compat["components/SessionDropdown"]},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},function(t,e){t.exports=flarum.core.compat["components/LogInModal"]},function(t,e){t.exports=flarum.core.compat["components/NotificationGrid"]},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"modals",(function(){return Xt})),n.d(e,"discussions",(function(){return Yt}));var o=n(0),s=n(12),i=n.n(s),r=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t),e.initAttrs=function(e){t.initAttrs.call(this,e)};var n=e.prototype;return n.icon=function(){return app.forum.data.attributes["byobu.icon-postAction"]},n.descriptionKey=function(){return"fof-byobu.forum.post.recipients_modified.removed_self"},e}(i.a),a=n(13),c=n.n(a),u=n(14),p=n.n(u),f=n(3),d=n.n(f),l=n(7),b=n.n(l);function h(t,e){var n;return void 0===e&&(e={}),e.style=e.style||{},e.className="RecipientLabel "+(e.className||""),e.href=c()(e,"link"),t instanceof d.a?(n=p()(t),e.href&&(e.title=t.username()||"",e.href=app.route.user(t))):(e.className+=" none",n=app.translator.trans("fof-byobu.forum.labels.user_deleted")),b.a.component(e,n)}function y(t,e){void 0===e&&(e={});var n=[],o=c()(e,"link");return e.className="RecipientsLabel "+(e.className||""),t?t.forEach((function(t){n.push(h(t,{link:o}))})):n.push(h()),m("span",e,n)}var v=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t),e.initAttrs=function(e){function n(t,e,n){return t.filter((function(t){return-1===e.indexOf(t)})).map((function(t){return app.store.getById(n,t)}))}t.initAttrs.call(this,e);var o=e.post.content();if(o.new||2!=o.length){var s=n(o.new.users,o.old.users,"users"),i=n(o.old.users,o.new.users,"users");e.added=s,e.removed=i}else{var r=e.post.content()[0],a=e.post.content()[1];e.added=n(a,r,"users"),e.removed=n(r,a,"users")}};var n=e.prototype;return n.icon=function(){return app.forum.data.attributes["byobu.icon-postAction"]},n.descriptionKey=function(){var t="fof-byobu.forum.post.recipients_modified.";return this.attrs.added.length?this.attrs.removed.length?t+"added_and_removed":t+"added":t+"removed"},n.descriptionData=function(){var t={};return this.attrs.added.length&&(t.added=y(this.attrs.added,{link:!0})),this.attrs.removed.length&&(t.removed=y(this.attrs.removed,{link:!0})),t},e}(i.a),g=n(1),x=n(19),_=n.n(x),R=n(20),P=n.n(R),D=function(t){!function(t){Object(g.extend)(_.a.prototype,"privacyItems",(function(e){var n=this;e.add("byobu-block-dm",P.a.component({state:this.user.blocksPd(),onchange:function(t){n.blocksPdLoading=!0,n.user.save({blocksPd:t}).then((function(){n.blocksPdLoading=!1,m.redraw()}))},loading:this.blocksPdLoading},t.translator.trans("fof-byobu.forum.user.settings.block_pd")))}))}(t)};var w=n(5),j=n.n(w),O=n(11),k=n.n(O),S=n(10),U=n.n(S),N=n(4),I=n.n(N),A=n(21),C=n.n(A),L=n(15),M=n.n(L),B=n(22),T=n.n(B),q=n(8),E=n.n(q),V=n(23),K=n.n(V),F=n(2),z=n.n(F),W=n(24),G=n.n(W),H=n(25),J=n.n(H),Q=n(26),X=n.n(Q),Y=n(27),Z=n.n(Y);function tt(){return(tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var et=n(28),nt=n.n(et),ot=n(29),st=n.n(ot),it=function(){function t(){}var e=t.prototype;return e.view=function(t){var e=this;if(!(t.length<3||this.loading)){if(app.cache.byobuResults||(app.cache.byobuResults=[]),this.query=t,app.cache.byobuResults[this.query])return[m("li",{className:"Dropdown-header"},app.translator.trans("core.forum.search.users_heading")),app.cache.byobuResults[this.query].map((function(t){var n=p()(t),o=[nt()(n.text,e.query)];return m("li",{className:"SearchResult","data-index":"users:"+t.id()},m("a",{"data-index":"users:"+t.id()},st()(t),tt({},n,{text:void 0,children:o})))}))];this.loading=!0,app.cache.byobuResults[this.query]=[],app.store.find("users",{filter:{q:this.query+" allows-pd"},page:{limit:5}}).then(this.pushResults.bind(this))}},e.pushResults=function(t){var e=this;t.payload.data.map((function(t){var n=app.store.getById("users",t.id);app.cache.byobuResults[e.query].push(n)})),this.loading=!1,m.redraw()},t}(),rt=n(17),at=n.n(rt),ct=n(30),ut=n.n(ct),pt=n(31),ft=n.n(pt),dt=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.oncreate=function(e){var n=this;t.prototype.oncreate.call(this,e);var o=this;this.$(".Search-results").on("click",(function(t){var e=n.$(".SearchResult.active");o.addRecipient(e.data("index")),o.$(".RecipientsInput").focus()})),this.$(".Search-results").on("touchstart",(function(t){var e=n.$(t.target.parentNode);o.addRecipient(e.data("index")),o.$(".RecipientsInput").focus()})),$(".RecipientsInput").on("keyup",(function(){clearTimeout(n.typingTimer),n.doSearch=!1,n.typingTimer=setTimeout((function(){n.doSearch=!0,m.redraw()}),900)})).on("keydown",(function(){clearTimeout(n.typingTimer)})),t.prototype.oncreate.call(this,e)},n.view=function(){var t=this;void 0===this.state.getValue()&&this.state.setValue("");var e=this.state.getValue()&&this.state.getValue().length>=3;return this.sources||(this.sources=this.sourceItems().toArray()),m("div",{className:"AddRecipientModal-form-input"},[m("div",{className:"RecipientsInput-selected RecipientsLabel"},this.attrs.selected().toArray().map((function(e){return h(e,{onclick:function(n){return t.removeRecipient(e,n)}})}))),m("input",{className:"RecipientsInput FormControl "+at()({open:!!this.state.getValue(),focused:!!this.state.getValue(),active:!!this.state.getValue(),loading:!!this.loadingSources}),oncreate:function(t){t.dom.focus()},type:"search",placeholder:ut()(app.translator.trans("fof-byobu.forum.input.search_recipients")),value:this.state.getValue(),oninput:function(e){return t.state.setValue(e.target.value)},onfocus:function(){return t.hasFocus=!0},onblur:function(){return t.hasFocus=!1}}),m("ul",{className:"Dropdown-menu Search-results fade "+at()({in:!!e})},this.doSearch?this.sources.map((function(e){return e.view(t.state.getValue())})):ft.a.component({size:"tiny",className:"Button Button--icon Button--link"}))])},n.sourceItems=function(){var t=new z.a;return(!this.attrs.discussion&&app.forum.attribute("canStartPrivateDiscussionWithUsers")||this.attrs.discussion&&this.attrs.discussion.canEditUserRecipients())&&t.add("users",new it),t},n.addRecipient=function(t){var e=t.split(":"),n=e[0],o=e[1],s=this.findRecipient(n,o);this.attrs.selected().add(t,s),this.state.clear()},n.removeRecipient=function(t,e){e.preventDefault(),this.attrs.selected().remove("users:"+t.id())},n.findRecipient=function(t,e){return app.store.getById(t,e)},e}(Z.a),lt=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.selected=J()(new z.a),this.attrs.discussion?this.assignInitialRecipients(this.attrs.discussion):this.attrs.selectedRecipients&&this.attrs.selectedRecipients.toArray().length>0?this.selected().merge(this.attrs.selectedRecipients):this.selected().add("users:"+app.session.user.id(),app.session.user),this.recipientSearch=new X.a},n.isDismissible=function(){return!1},n.assignInitialRecipients=function(t){var e=this;t.recipientUsers().map((function(t){e.selected().add("users:"+t.id(),t)}))},n.className=function(){return"AddRecipientModal"},n.title=function(){return this.attrs.discussion?app.translator.trans("fof-byobu.forum.modal.titles.update_recipients",{title:m("em",null,this.attrs.discussion.title())}):app.translator.trans("fof-byobu.forum.modal.titles.add_recipients")},n.helpText=function(){return this.attrs.discussion?app.translator.trans("fof-byobu.forum.modal.help.update_recipients"):app.translator.trans("fof-byobu.forum.modal.help.add_recipients")},n.content=function(){return[m("div",{className:"Modal-body"},m("div",{class:"AddRecipientModal-help"},this.helpText()),m("div",{className:"AddRecipientModal-form"},dt.component({state:this.recipientSearch,selected:this.selected,discussion:this.attrs.discussion}),m("div",{className:"AddRecipientModal-form-submit App-primaryControl"},I.a.component({type:"submit",className:"Button Button--primary",icon:"fas fa-check"},app.translator.trans("fof-byobu.forum.buttons.submit")),I.a.component({onclick:this.hide.bind(this),className:"Button Button--cancel"},app.translator.trans("fof-byobu.forum.buttons.cancel")))))]},n.select=function(t){(t.metaKey||t.ctrlKey||-1!==this.selected.indexOf(this.index))&&this.selected().length&&this.$("form").submit()},n.onsubmit=function(t){t.preventDefault();var e=this.attrs.discussion,n=this.selected(),o=[];n.toArray().forEach((function(t){t instanceof d.a&&o.push(t)})),e&&e.save({relationships:{recipientUsers:o}}).then((function(){app.current instanceof M.a&&app.current.stream.update(),m.redraw()})),this.attrs.onsubmit&&this.attrs.onsubmit(n),app.modal.close(),this.attrs.discussion||app.composer.show(),t.redraw=!1},e}(G.a),mt=function(t){U.a.prototype.recipientUsers=j.a.hasMany("recipientUsers"),U.a.prototype.oldRecipientUsers=j.a.hasMany("oldRecipientUsers"),U.a.prototype.canEditRecipients=j.a.attribute("canEditRecipients"),U.a.prototype.canEditUserRecipients=j.a.attribute("canEditUserRecipients"),function(t){Object(g.extend)(U.a.prototype,"badges",(function(e){this.recipientUsers().length&&e.add("private",k.a.component({type:"private",label:t.translator.trans("fof-byobu.forum.badges.is_private.tooltip"),icon:t.forum.data.attributes["byobu.icon-badge"]}),10)}))}(t),Object(g.extend)(C.a.prototype,"infoItems",(function(t){var e=this.attrs.discussion;bt(e,t,!0)})),Object(g.extend)(T.a.prototype,"items",(function(t){var e=this.attrs.discussion;bt(e,t,!1)})),Object(g.extend)(M.a.prototype,"params",(function(t){t.include.push("recipientUsers")})),Object(g.extend)(E.a.prototype,"requestParams",(function(t){t.include.push("recipientUsers")})),ht()},bt=function(t,e,n){var o=[];t.recipientUsers().length&&(o=o.concat(t.recipientUsers())),o&&o.length&&(n?e.add("recipients",y(o),10):e.add("recipients",y(o,{link:!0}),4))};function ht(){Object(g.extend)(K.a,"moderationControls",(function(t,e){e.canEditRecipients()&&t.add("recipients",I.a.component({icon:app.forum.data.attributes["byobu.icon-badge"],onclick:function(){return app.modal.show(lt,{discussion:e})}},app.translator.trans("fof-byobu.forum.buttons.edit_recipients"))),e&&e.recipientUsers().find((function(t){return t.id()===app.session.user.id()}))&&t.add("remove",I.a.component({icon:"fas fa-user-slash",onclick:function(){if(e){var t=new z.a;e.recipientUsers().map((function(e){app.session.user.id()!==e.id()&&t.add("users:"+e.id(),e)}));var n=[];t.toArray().forEach((function(t){t instanceof d.a&&n.push(t)})),e.save({relationships:{recipientUsers:n}}).then((function(){return app.history.back()}))}}},app.translator.trans("fof-byobu.forum.buttons.remove_from_discussion")))}))}var yt=n(32),vt=n.n(yt),gt=n(33);var xt=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t),e.initAttrs=function(e){t.initAttrs.call(this,e),e.titlePlaceholder=app.translator.trans("fof-byobu.forum.composer_private_discussion.title_placeholder"),e.submitLabel=app.translator.trans("fof-byobu.forum.composer_private_discussion.submit_button")};var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.composer.fields.recipients=this.attrs.recipients||new z.a,this.composer.fields.recipientUsers=this.attrs.recipientUsers||[];var n=m.route.param("username");void 0!==n&&this.addDefaultRecipients(n)},n.data=function(){var e=t.prototype.data.call(this),n=[];return this.composer.fields.recipients.toArray().forEach((function(t){t instanceof d.a&&n.push(t)})),e.relationships=e.relationships||{},n.length&&(e.relationships.recipientUsers=n),delete e.relationships.tags,e},n.chooseRecipients=function(){var t=this;app.modal.show(lt,{selectedRecipients:this.composer.fields.recipients,onsubmit:function(e){t.composer.fields.recipients=e,t.$(".RecipientsInput").focus()}})},n.headerItems=function(){var e=t.prototype.headerItems.call(this);if(e.remove("tags"),app.session.user&&app.forum.attribute("canStartPrivateDiscussion")){var n=this.composer.fields.recipients.toArray();e.add("recipients",m("a",{className:"PrivateDiscussionComposer-changeRecipients",onclick:this.chooseRecipients.bind(this)},n.length?function(t,e){void 0===e&&(e={}),e.style=e.style||{},e.className="RecipientLabel "+(e.className||"");var n=app.translator.transChoice("fof-byobu.forum.labels.recipients",t,{count:t});return m("span",e,m("span",{className:"RecipientLabel-text"},n))}(n.length):m("span",{className:"RecipientLabel none"},app.translator.trans("fof-byobu.forum.buttons.add_recipients"))),5)}return e},n.addDefaultRecipients=function(t){var e=app.store.getBy("users","username",t);this.composer.fields.recipients.add("users:"+app.session.user.id(),app.session.user),e.id()!==app.session.user.id()&&this.composer.fields.recipients.add("users:"+e.id(),e)},n.onsubmit=function(){if(this.loading=!0,this.composer.fields.recipients.toArray().length<2)this.chooseRecipients(),this.loading=!1;else{var t=this.data();app.store.createRecord("discussions").save(t).then((function(t){app.cache.discussionList&&app.cache.discussionList.refresh(),m.route.set(app.route.discussion(t)),app.composer.hide()}),this.loaded.bind(this))}},e}(n.n(gt).a),_t=n(16),Rt=n.n(_t),Pt=n(34),Dt=n.n(Pt),wt=function(t){d.a.prototype.blocksPd=j.a.attribute("blocksPd"),d.a.prototype.cannotBeDirectMessaged=j.a.attribute("cannotBeDirectMessaged"),d.a.prototype.unreadPrivateMessagesCount=j.a.attribute("unreadPrivateMessagesCount"),function(t){Object(g.extend)(vt.a,"userControls",(function(e,n){return t.session.user&&t.session.user.id()!==n.id()&&t.forum.attribute("canStartPrivateDiscussion")&&(!1===n.blocksPd()||t.forum.attribute("canStartPrivateDiscussionWithBlockers")&&n.cannotBeDirectMessaged())&&e.add("private-discussion",I.a.component({icon:t.forum.data.attributes["byobu.icon-badge"],onclick:function(e){return e.preventDefault(),new Promise((function(e){var o=new z.a;return o.add("users:"+t.session.user.id(),t.session.user),o.add("users:"+n.id(),n),xt.prototype.recipients=o,t.composer.load(xt,{user:t.session.user,recipients:o,recipientUsers:o,titlePlaceholder:t.translator.trans("fof-byobu.forum.composer_private_discussion.title_placeholder"),submitLabel:t.translator.trans("fof-byobu.forum.composer_private_discussion.submit_button")}),t.composer.show(),e(t.composer)}))}},t.translator.trans("fof-byobu.forum.buttons.send_pd",{username:n.username()}))),e}))}(t),function(t){Object(g.extend)(Rt.a.prototype,"navItems",(function(e){var n=t.route("byobuUserPrivate",{username:this.user.username()});(t.session.user||m.route.get()===n)&&e.add("byobu",b.a.component({href:n,icon:t.forum.data.attributes["byobu.icon-badge"]},t.translator.trans("fof-byobu.forum.user.byobu_link")),85)}))}(t),jt()};function jt(){Object(g.extend)(Dt.a.prototype,"items",(function(t){if(app.session.user){var e=app.route("byobuUserPrivate",{username:app.session.user.username()});t.add("session-pd-link",b.a.component({href:e,icon:app.forum.data.attributes["byobu.icon-badge"]},app.translator.trans("fof-byobu.forum.user.byobu_link")),85)}}))}var Ot=n(9),kt=n.n(Ot),St=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e}(E.a),Ut=n(35),Nt=n.n(Ut),It=n(18),At=n.n(It),Ct=n(36),Lt=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e}(n.n(Ct).a);function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Bt=n(37),Tt=n.n(Bt),qt=function(){function t(t){this.recipient=t}var e,n,o,s=t.prototype;return s.action=function(t){var e=this;return t.preventDefault(),new Promise((function(t,n){if(app.session.user){var o=new z.a;return o.add("users:"+app.session.user.id(),app.session.user),e.recipient&&app.session.user.id()!==e.recipient.id()&&o.add("users:"+e.recipient.id(),e.recipient),app.composer.load(xt,{user:app.session.user,recipients:o,recipientUsers:o}),app.composer.show(),t()}return app.modal.show(Tt.a),n()}))},s.component=function(){return I.a.component({icon:"fas fa-pen",className:"Button Button--primary IndexPage-newDiscussion",itemClassName:"fof-byobu_primaryControl",onclick:this.action.bind(this),disabled:!this.canStartDiscussion},app.translator.trans(this.canStartDiscussion?"fof-byobu.forum.nav.start_button":"core.forum.index.cannot_start_discussion_button"))},e=t,(n=[{key:"canStartDiscussion",get:function(){return app.session.user&&app.forum.attribute("canStartPrivateDiscussion")}}])&&Mt(e.prototype,n),o&&Mt(e,o),t}(),Et=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.changeSort("latest")},n.show=function(e){this.list=new St({q:"byobu:"+e.username()+" is:private",sort:this.sort}),this.list.refresh(),t.prototype.show.call(this,e)},n.handleChangeSort=function(t,e){e.preventDefault(),this.changeSort(t)},n.changeSort=function(t){this.sort=t,this.loadUser(m.route.param("username"))},n.content=function(){return m("div",{className:"DiscussionsUserPage"},m("div",{className:"DiscussionsUserPage-toolbar"},m("ul",{className:"DiscussionsUserPage-toolbar-action"},At()(this.actionItems().toArray())),m("ul",{className:"DiscussionsUserPage-toolbar-view"},At()(this.viewItems().toArray()))),m(Lt,{state:this.list}))},n.actionItems=function(){var t=new qt(this.user),e=new z.a;return app.session.user&&app.forum.attribute("canStartPrivateDiscussion")&&e.add("start_private",t.component()),e},n.viewItems=function(){var t=this,e=new z.a,n=this.list.sortMap(),o={};for(var s in n)o[s]=app.translator.trans("core.forum.index_sort."+s+"_button");return e.add("sort",Nt.a.component({buttonClassName:"Button",label:o[this.sort]||Object.keys(n).map((function(t){return o[t]}))[0]},Object.keys(o).map((function(e){var s=o[e],i=(t.sort||Object.keys(n)[0])===e;return I.a.component({icon:!i||"fas fa-check",onclick:t.handleChangeSort.bind(t,e),active:i},s)})))),e},e}(Rt.a),Vt=function(t){!function(t){t.routes.byobuUserPrivate={path:"/u/:username/private",component:Et},t.routes.byobuPrivate={path:"/private",component:kt.a}}(t),function(t){Object(g.extend)(kt.a.prototype,"navItems",(function(e){t.session.user&&e.add("privateDiscussions",b.a.component({icon:t.forum.data.attributes["byobu.icon-badge"],href:t.route("byobuPrivate")},t.translator.trans("fof-byobu.forum.nav.nav_item")),75)})),Object(g.extend)(kt.a.prototype,"setTitle",(function(){"byobuPrivate"===t.current.get("routeName")&&t.setTitle(t.translator.trans("fof-byobu.forum.user.dropdown_label"))})),Object(g.extend)(E.a.prototype,"requestParams",(function(e){"byobuPrivate"===t.current.get("routeName")&&(e.filter.q=(e.filter.q||"")+" is:private")})),Object(g.extend)(kt.a.prototype,"sidebarItems",(function(e){if("byobuPrivate"===t.current.get("routeName")){var n=new qt;e.replace("newDiscussion",n.component())}}))}(t)},$t=n(38),Kt=n.n($t),Ft=n(6),zt=n.n(Ft),Wt=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.icon=function(){return app.forum.data.attributes["byobu.icon-badge"]},n.href=function(){var t=this.attrs.notification.subject();return app.route.discussion(t)},n.content=function(){var t=this.attrs.notification.fromUser();return app.translator.trans("fof-byobu.forum.notifications.pd_text",{user:t})},e}(zt.a),Gt=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.icon=function(){return"fas fa-reply"},n.href=function(){var t=this.attrs.notification,e=t.subject(),n=t.content()||{};return app.route.discussion(e,n.postNumber)},n.content=function(){var t=this.attrs.notification.fromUser();return app.translator.trans("fof-byobu.forum.notifications.pd_reply_text",{user:t})},e}(zt.a),Ht=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.icon=function(){return app.forum.data.attributes["byobu.icon-badge"]},n.href=function(){var t=this.attrs.notification.subject();return app.route.discussion(t)},n.content=function(){var t=this.attrs.notification.fromUser();return app.translator.trans("fof-byobu.forum.notifications.pd_user_left_text",{user:t})},e}(zt.a),Jt=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.icon=function(){return app.forum.data.attributes["byobu.icon-badge"]},n.href=function(){var t=this.attrs.notification.subject();return app.route.discussion(t)},n.content=function(){var t=this.attrs.notification.fromUser();return app.translator.trans("fof-byobu.forum.notifications.pd_added_text",{user:t})},e}(zt.a);function Qt(){Object(g.extend)(Kt.a.prototype,"notificationTypes",(function(t){t.add("byobuPrivateDiscussionCreated",{name:"byobuPrivateDiscussionCreated",icon:app.forum.data.attributes["byobu.icon-badge"],label:app.translator.trans("fof-byobu.forum.notifications.pd_label")}),t.add("byobuPrivateDiscussionReplied",{name:"byobuPrivateDiscussionReplied",icon:app.forum.data.attributes["byobu.icon-badge"],label:app.translator.trans("fof-byobu.forum.notifications.pd_reply_label")}),t.add("byobuPrivateDiscussionAdded",{name:"byobuPrivateDiscussionAdded",icon:app.forum.data.attributes["byobu.icon-badge"],label:app.translator.trans("fof-byobu.forum.notifications.pd_added_label")}),t.add("byobuRecipientRemoved",{name:"byobuRecipientRemoved",icon:app.forum.data.attributes["byobu.icon-badge"],label:app.translator.trans("fof-byobu.forum.notifications.pd_user_left_label")})}))}var Xt={AddRecipientModal:lt},Yt={PrivateDiscussionComposer:xt,PrivateDiscussionList:Lt};app.initializers.add("fof-byobu",(function(t){!function(t){t.postComponents.recipientsModified=v,t.postComponents.recipientLeft=r}(t),function(t){mt(t),D(t),wt(t)}(t),Vt(t),function(t){t.notificationComponents.byobuPrivateDiscussionCreated=Wt,t.notificationComponents.byobuPrivateDiscussionReplied=Gt,t.notificationComponents.byobuRecipientRemoved=Ht,t.notificationComponents.byobuPrivateDiscussionAdded=Jt,Qt()}(t)}))}]);
//# sourceMappingURL=forum.js.map